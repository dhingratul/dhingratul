
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-GYJRB0KS1S"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-GYJRB0KS1S');
        </script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ML (O)Ops! Keeping Track of Changes (Part 2) - Atul Dhingra</title>
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
        <!-- Add syntax highlighting CSS if needed -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github.min.css">
    </head>
    <body>
        <header>
            <nav>
                <ul>
                    <li><a href="/index.html">Home</a></li>
                    <li><a href="/about.html">About Me</a></li>
                    <li><a href="/experience.html">Experience</a></li>
                    <li><a href="/publications.html">Publications</a></li>
                    <li><a href="/patents.html">Patents</a></li>
                    <li><a href="/blog.html">Blog</a></li>
                    <li><a href="/contact.html">Contact</a></li>
                </ul>
            </nav>
        </header>

        <article class="blog-post-full">
            <div class="post-header">
                <h1>ML (O)Ops! Keeping Track of Changes (Part 2)</h1>
                <div class="post-meta">
                    <span class="date">2021-03-22</span>
                    <span class="authors">By Atul Dhingra, Gaurav Sood</span>
                    <div class="tags">
                        
                        <span class="tag">Machine Learning</span>
                        
                        <span class="tag">MLOps</span>
                        
                        <span class="tag">Edge Computing</span>
                        
                        <span class="tag">Model Deployment</span>
                        
                    </div>
                </div>
            </div>
            <div class="post-content">
                <h1>ML (O)Ops! Keeping Track of Changes (Part 2)</h1>
<p><em>By Atul Dhingra and Gaurav Sood</em></p>
<p>The first part of the series, “Improving and Deploying On-Device Models With Confidence,” is posted <a href="empty">here</a></p>
<p>One way to automate classification is to compare new instances to a known list and plug in the majority class of the exact match. For such instance-based learning, you often don’t need to version data; you just need a hash table. When you are not relying on an exact match—most machine learning—you often need to version data to reproduce the behavior.</p>
<p>Reproducibility is the bedrock of mature software engineering. It is fundamental because it allows you to diagnose issues. You can reproduce the behavior of a ‘version.’ With that power, you can correlate changes in inputs with changes in outputs. Systems that enable reproducibility, like version control, have another vital purpose—reducing risk stemming from changes and allow regression testing in systems that depend on data, such as ML. They reduce it by allowing for changes to be rolled back. </p>
<p>To reproduce outputs from machine learning models, we need to do more than store data. We also need to store hyper-parameters, details about the OS, programming language, and packages, among other things. But given the primary value of reproducibility is instrumental—diagnosis—we not just want the ability to reproduce but also the ability to understand changes and correlate them. Current solutions miss the mark.</p>
<h2>Current Solutions and Problems</h2>
<p>One way to version data is to treat it as a binary blob. Store all the data you learned a model on to a server and store a reference to the data in your repository. If the data changes, store the new version and create a new pointer. One downside of using a <code>git lfs</code> like mechanism is that your storage blows up. Another is that build times can be large if the local cache is small or more generally if access costs are large. Yet another problem is the lack of a neat interface that allows you to track more than source data. </p>
<p>DVC purports to solve all three problems. It solves the first by providing a way to not treat the data as a blob. For instance, in a computer vision workflow, the source data is image files with some elementary tags—labels, assignments to train and test, etc. The differences between data versions are 1) changes in images (additions mostly) and 2) changes in mapping to labels and assignments. DVC allows you to store the differences in corpora of images as a list of additional hashes to files. DVC is silent on the second point—efficient storage of changes in mappings. We come to it later. DVC purports to solve the second problem by allowing you to save to local cloud storage. But it can still be time-consuming to download data from the cloud storage buckets. The reason is as follows. Each time you want to work on an experiment, you need to clone the entire cache to check out the appropriate files. And if not handled properly, the cloning time often significantly exceeds typical training times. Worse, it locks you into a cloud provider for any optimizations you may want to alleviate these time-bound cache downloads. DVC purports to solve the last problem by using yaml, tags, etc. But anarchy prevails. </p>
<h2>Future Solutions</h2>
<h3>Interpretable Changes</h3>
<p>One of the big problems with data versioning is that the diffs are not human-readable, much less comprehensible. The diffs are usually very long, and the changes in the diff are hashes, which means that to review an MR/PR/Diff, the reviewer has to check out the change and pull the data with the updated hashes. The process can be easily improved by adding an extra layer that auto-summarizes the changes into a human-readable form. We can, of course, easily do more. We can provide ways to understand how changes to inputs correlate with changes in outputs.</p>
<h3>Diff. Tables</h3>
<p>The standard method of understanding data as a blob seems uniquely bad. For conventional rectangular databases, changes can be understood as changes in functional transformations of core data lake tables. For instance, say we store the label assignments of images in a table. And say we revise the labels of 100 images. (The core data lake tables are immutable, so the changes are executed in the downstream tables.) One conventional way of storing the changes is to use a separate table for recording changes. Another is to write an update statement that is run whenever “the v2” table is generated. This means the differences across data are now tied to a data transformation computation graph. When data transformation is inexpensive, we can delay running the transformations till the table is requested. In other cases, we can cache the tables.</p>
            </div>
            
            <div class="post-navigation">
                
                <a href="/blog/ml-oops-part1.html" class="nav-button prev">
                    <i class="fas fa-arrow-left"></i>
                    <span>Previous<br>ML (O)Ops! Improving and Deploying On-Device Models With Confidence (Part 1)</span>
                </a>
                
                
                
                <a href="/blog/ml-oops-part3.html" class="nav-button next">
                    <span>Next<br>ML (O)Ops: What Data To Collect? (part 3)</span>
                    <i class="fas fa-arrow-right"></i>
                </a>
                
            </div>
        </article>

        <footer>
            <p>&copy; 2024 Atul Dhingra's Portfolio. All rights reserved.</p>
        </footer>

        <!-- Add syntax highlighting JS if needed -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
    </body>
    </html>
    